{% extends "base.html" %}

{% block title %}PianoTour - Interactive Guitar Studio{% endblock %}

{% block scripts %}
<script type="module">
    import { pianoState } from '{{ url_for("static", filename="appState.js") }}';

    // Set instrument from template variable, default to 'guitar' if not provided
    const templateInstrument = '{{ instrument }}' || 'guitar';

    // Update pianoState
    pianoState.instrument = templateInstrument;

    // Keep backwards compatibility by attaching to window
    window.CURRENT_INSTRUMENT = templateInstrument;

    console.log("Set instrument to:", templateInstrument);
    console.log("pianoState.instrument:", pianoState.instrument);
    console.log("window.CURRENT_INSTRUMENT:", window.CURRENT_INSTRUMENT);
</script>
{% endblock %}